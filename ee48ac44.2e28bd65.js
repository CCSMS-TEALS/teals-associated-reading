(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{78:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return l})),n.d(t,"metadata",(function(){return c})),n.d(t,"toc",(function(){return h})),n.d(t,"default",(function(){return d}));var a=n(3),i=n(7),r=(n(0),n(88)),o=n(83),s=n(90),l={id:"unit4",title:"Unit 4 - Nested Loop and Lists",sidebar_label:"Unit 4 - Nested Loop and Lists",slug:"/unit4"},c={unversionedId:"unit4",id:"unit4",isDocsHomePage:!1,title:"Unit 4 - Nested Loop and Lists",description:"4.1",source:"@site/docs/unit4.mdx",slug:"/unit4",permalink:"/docs/unit4",editUrl:"https://github.com/CCSMS-TEALS/teals-associated-reading/docs/unit4.mdx",version:"current",sidebar_label:"Unit 4 - Nested Loop and Lists",sidebar:"someSidebar",previous:{title:"Unit 3 - Functions",permalink:"/docs/unit3"}},h=[{value:"4.1",id:"41",children:[{value:"Traversing a String",id:"traversing-a-string",children:[]},{value:"Exercise 4.1",id:"exercise-41",children:[]},{value:"Exercise 4.2",id:"exercise-42",children:[]},{value:"Looping and counting",id:"looping-and-counting",children:[]},{value:"Exercise 4.3",id:"exercise-43",children:[]},{value:"Exercise 4.4",id:"exercise-44",children:[]}]},{value:"4.2",id:"42",children:[{value:"For Loop Using Range",id:"for-loop-using-range",children:[]},{value:"Debugging 4",id:"debugging-4",children:[]}]}],b={toc:h};function d(e){var t=e.components,n=Object(i.a)(e,["components"]);return Object(r.b)("wrapper",Object(a.a)({},b,n,{components:t,mdxType:"MDXLayout"}),Object(r.b)("h2",{id:"41"},"4.1"),Object(r.b)("p",null,"The most common way to traverse the elements of a list is with a for loop. The syntax is the same as for strings:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-python"}),"for cheese in cheeses:\n    print(cheese)\n")),Object(r.b)("p",null,"This works well if you only need to read the elements of the list. A for loop over an empty list never executes the body:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-python"}),"for x in []:\n    print('This never happens.')\n")),Object(r.b)("p",null,"`\nAlthough a list can contain another list, the nested list still counts as a single element. The length of this list is four:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-python"}),"['spam', 1, ['Brie', 'Roquefort', 'Pol le Veq'], [1, 2, 3]]\n")),Object(r.b)("h3",{id:"traversing-a-string"},"Traversing a String"),Object(r.b)("p",null,"A lot of computations involve processing a string one character at a time. Often they start at the beginning, select each character in turn, do something to it, and continue until the end. This pattern of processing is called a traversal. One way to write a traversal is with a while loop:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-python"}),"index = 0\nwhile index < len(fruit):\n    letter = fruit[index]\n    print(letter)\n    index = index + 1\n")),Object(r.b)("p",null,"This loop traverses the string and displays each letter on a line by itself. The loop condition is index ",Object(r.b)("inlineCode",{parentName:"p"},"len(fruit)"),", so when index is equal to the length of the string, the condition is ",Object(r.b)("inlineCode",{parentName:"p"},"false"),", and the body of the loop is not executed. The last character accessed is the one with the index ",Object(r.b)("inlineCode",{parentName:"p"},"len(fruit)-1"),", which is the last character in the string."),Object(r.b)("h3",{id:"exercise-41"},"Exercise 4.1"),Object(r.b)("p",null,"Write a function that takes a string as an argument and displays the letters backward, one per line."),Object(r.b)("p",null,"Another way to write a traversal is with a for loop:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-python"}),"for char in fruit:\nprint(char)\n")),Object(r.b)("p",null,"Each time through the loop, the next character in the string is assigned to the variable char. The loop continues until no characters are left."),Object(r.b)("p",null,"The following example shows how to use concatenation (string addition) and a for loop to generate an abecedarian series (that is, in alphabetical order). In Robert McCloskey\u2019s book Make Way for Ducklings, the names of the ducklings are ",Object(r.b)("inlineCode",{parentName:"p"},"Jack, Kack, Lack, Mack, Nack, Ouack, Pack, and Quack"),". This loop outputs these names in order:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-python"}),"prefixes = 'JKLMNOPQ'\nsuffix = 'ack'\n\nfor letter in prefixes:\nprint(letter + suffix)\n")),Object(r.b)("p",null,"The output is:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"Jack\nKack\nLack\nMack\nNack\nOack\nPack\nQack\n")),Object(r.b)("p",null,"Of course, that\u2019s not quite right because Ouack and Quack are misspelled."),Object(r.b)("h3",{id:"exercise-42"},"Exercise 4.2"),Object(r.b)("p",null,"Modify the program to fix this error."),Object(r.b)("h3",{id:"looping-and-counting"},"Looping and counting"),Object(r.b)("p",null,"The following program counts the number of times the letter a appears in a string:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-python"}),"word = 'banana'\ncount = 0\nfor letter in word:\nif letter == 'a':\ncount = count + 1\nprint(count)\n")),Object(r.b)("p",null,"This program demonstrates another pattern of computation called a counter. The variable count is initialized to 0 and then incremented each time an a is found. When the loop exits, count contains the result\u2014the total number of a\u2019s."),Object(r.b)("h3",{id:"exercise-43"},"Exercise 4.3"),Object(r.b)("p",null,"Encapsulate this code in a function named count, and generalize it so that it accepts the string and the letter as arguments."),Object(r.b)("h3",{id:"exercise-44"},"Exercise 4.4"),Object(r.b)("p",null,"Rewrite this function so that instead of traversing the string, it uses the three-parameter version of find from the previous section."),Object(r.b)("h2",{id:"42"},"4.2"),Object(r.b)("h3",{id:"for-loop-using-range"},"For Loop Using Range"),Object(r.b)("p",null,"As mentioned, the most common way to traverse the elements of a list is with a for loop. If you want to write or update the elements, you need the indices. A common way to do that is to combine the functions ",Object(r.b)("inlineCode",{parentName:"p"},"range")," and ",Object(r.b)("inlineCode",{parentName:"p"},"len"),":"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-python"}),"for i in range(len(numbers)):\nnumbers[i] = numbers[i] * 2\n")),Object(r.b)("p",null,"This loop traverses the list and updates each element. ",Object(r.b)("inlineCode",{parentName:"p"},"len")," returns the number of elements in the list. ",Object(r.b)("inlineCode",{parentName:"p"},"range")," returns a list of indices from 0 to n\u22121, where n is the length of the list. Each time through the loop ",Object(r.b)("inlineCode",{parentName:"p"},"i")," gets the index of the next element. The assignment statement in the body uses ",Object(r.b)("inlineCode",{parentName:"p"},"i")," to read the old value of the element and to assign the new value."),Object(r.b)("h3",{id:"debugging-4"},"Debugging 4"),Object(r.b)("p",null,"When you use indices to traverse the values in a sequence, it is tricky to get the beginning and end of the traversal right. Here is a function that is supposed to compare two words and return True if one of the words is the reverse of the other, but it contains two errors:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-python"}),"def is_reverse(word1, word2):\nif len(word1) != len(word2):\nreturn False\n\n    i = 0\n    j = len(word2)\n\n    while j > 0:\n        if word1[i] != word2[j]:\n            return False\n        i = i+1\n        j = j-1\n\n    return True\n")),Object(r.b)("p",null,"The first if statement checks whether the words are the same length. If not, we can return False immediately and then, for the rest of the function, we can assume that the words are the same length. This is an example of the guardian pattern in Section 6.8."),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"i")," and ",Object(r.b)("inlineCode",{parentName:"p"},"j")," are indices: ",Object(r.b)("inlineCode",{parentName:"p"},"i")," traverses word1 forward while ",Object(r.b)("inlineCode",{parentName:"p"},"j")," traverses ",Object(r.b)("inlineCode",{parentName:"p"},"word2")," backward. If we find two letters that don\u2019t match, we can return False immediately. If we get through the whole loop and all the letters match, we return True."),Object(r.b)("p",null,"If we test this function with the words \u201cpots\u201d and \u201cstop\u201d, we expect the return value True, but we get an IndexError:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-python"}),"> > > is_reverse('pots', 'stop')\n> > > ...\n> > > File \"reverse.py\", line 15, in is_reverse\n\n    if word1[i] != word2[j]:\nIndexError: string index out of range\n")),Object(r.b)("p",null,"For debugging this kind of error, my first move is to print the values of the indices immediately before the line where the error appears."),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-python"}),"while j > 0:\nprint (i, j) # print here\n\n    if word1[i] != word2[j]:\n        return False\n    i = i+1\n    j = j-1\n")),Object(r.b)("p",null,"Now when I run the program again, I get more information:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-python"}),">>> is_reverse('pots', 'stop')\n>>> 0 4\n>>> ...\nIndexError: string index out of range\n")),Object(r.b)("p",null,"The first time through the loop, the value of j is 4, which is out of range for the string 'pots'. The index of the last character is 3, so the initial value for j should be ",Object(r.b)("inlineCode",{parentName:"p"},"len(word2)-1"),". If I fix that error and run the program again, I get:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-python"}),">>> is_reverse('pots', 'stop')\n>>> 0 3\n>>> 1 2\n>>> 2 1\n>>> True\n")),Object(r.b)("p",null,"This time we get the right answer, but it looks like the loop only ran three times, which is suspicious. To get a better idea of what is happening, it is useful to draw a state diagram. During the first iteration, the frame for ",Object(r.b)("inlineCode",{parentName:"p"},"is_reverse")," is shows in Figure 1."),Object(r.b)(s.a,{mdxType:"CenteredDiv"},Object(r.b)("img",{alt:"State Diagram",src:Object(o.a)("img/thinkpython012.png")}),Object(r.b)("p",null,"State Diagram")),Object(r.b)("p",null,"I took a little license by arranging the variables in the frame and adding dotted lines to show that the values of i and j indicate characters in word1 and word2."))}d.isMDXComponent=!0}}]);